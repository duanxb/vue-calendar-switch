(function(t){function e(e){for(var n,i,o=e[0],c=e[1],l=e[2],u=0,h=[];u<o.length;u++)i=o[u],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&h.push(s[i][0]),s[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);d&&d(e);while(h.length)h.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],n=!0,o=1;o<a.length;o++){var c=a[o];0!==s[c]&&(n=!1)}n&&(r.splice(e--,1),t=i(i.s=a[0]))}return t}var n={},s={app:0},r=[];function i(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=n,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var d=c;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"32e9":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("a026"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("h3",[t._v("calendarSwitch组件：")]),a("br"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.dateSpace,expression:"dateSpace"}],ref:"calendarTigger",staticClass:"datespace",attrs:{type:"text",placeholder:"请选择时间区间"},domProps:{value:t.dateSpace},on:{input:function(e){e.target.composing||(t.dateSpace=e.target.value)}}})])},r=[],i={name:"app",data:function(){return{dateSpace:""}},mounted:function(){this.initCalendar()},methods:{initCalendar:function(){var t=this;this.$calendarSwitch({element:this.$refs.calendarTigger,monthSize:2,minDate:"2019-12-01",maxDate:"2020-05-03",onSuccess:function(e){t.dateSpace=e.start_date+"~"+e.end_date,console.log(t.dateSpace)},onError:function(t){console.log(t)}})}}},o=i,c=(a("5c0b"),a("2877")),l=Object(c["a"])(o,s,r,!1,null,null,null),d=l.exports,u=a("dc2b"),h=a.n(u);n["a"].config.productionTip=!1,n["a"].prototype.$calendarSwitch=h.a,new n["a"]({render:function(t){return t(d)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";var n=a("9c0c"),s=a.n(n);s.a},"9c0c":function(t,e,a){},c666:function(t,e,a){"use strict";a.r(e);var n=a("a026"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"calendarfade"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.showCalendarFlag,expression:"showCalendarFlag"}],staticClass:"calendarSwitchWrap",on:{click:function(e){return e.target!==e.currentTarget?null:t.close(e)}}},[a("transition",{attrs:{name:"calendarshowinBottom"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.showCalendarFlag,expression:"showCalendarFlag"}],staticClass:"calendarSwitchContent"},[a("div",{staticClass:"header"},[t._v("选择日期 "),a("span",{staticClass:"close",on:{click:t.close}},[t._v("关闭")])]),a("table",{staticClass:"dateTable"},[a("tr",t._l(t.week,(function(e){return a("td",{key:e},[t._v(t._s(e))])})),0)]),a("div",{staticClass:"content"},t._l(t.renderData,(function(e,n){return a("div",{key:n},[a("div",{staticClass:"ymonth"},[t._v(t._s(e.title))]),a("ul",{staticClass:"days"},t._l(e.days,(function(n,s){return a("li",{key:s,class:{week:n.week,disabled:n.disabled,sectioned:n.sectioned,selected:n.selected},on:{click:function(e){return t.selectDay(n,e)}}},[a("span",{attrs:{"data-str":t._formatDateStr(e.year,e.month,n.value)}},[t._v(t._s(n.value))]),n.selected_str?[a("em",[t._v(t._s(n.selected_str))])]:t._e(),n.tooltip?[a("div",{staticClass:"tooltip",class:{show:t.tooltipshow},domProps:{textContent:t._s(n.tooltip)}})]:t._e()],2)})),0)])})),0)])])],1)])},r=[],i=(a("c975"),a("a9e3"),a("e25e"),a("ac1f"),a("5319"),a("1276"),{data:function(){return{week:["日","一","二","三","四","五","六"],showCalendarFlag:!1,showStartDate:"",showEndDate:"",monthSize:4,minDate:"",maxDate:"",tooltipshow:!1}},computed:{renderData:function(){for(var t=new Date,e=t.getFullYear(),a=t.getMonth()+1,n=[],s=1;s<=this.monthSize;s++){for(var r,i=new Date(e,a,0).getDate(),o=[],c={year:e,month:a},l=1;l<=i;l+=1)r=new Date(e,a-1,l).getDay()+1,1===l&&1!==r?(this.addRowEmptyValue(o,r),this.addRowDayValue(o,c,l,r)):(this.addRowDayValue(o,c,l,r),l===i&&7!==r&&this.addRowEmptyValue(o,7-r+1));var d=this._formatNumber(a);n.push({title:e+"年"+d+"月",year:e,month:a,days:o}),a<12?a++:(e++,a=1)}return n}},methods:{initDatePicker:function(){this.showStartDate=this.startDate,this.showEndDate=this.endDate},addRowEmptyValue:function(t,e){for(var a=1;a<e;a+=1)t.push({value:""})},addRowDayValue:function(t,e,a,n){var s={value:a},r=this._getDateObject(this.showStartDate),i=this._getDateObject(this.showEndDate),o=this.showStartDate,c=this.showEndDate,l=this._formatDateStr(e.year,e.month,a);r&&(r.year==e.year&&r.month==e.month&&r.day==a&&(s.selected=!0,s.selected_str="开始",s.tooltip="请选择结束时间"),i.year==e.year&&i.month==e.month&&i.day==a&&(s.selected=!0,s.selected_str="结束"),i&&!1===this._compareDate(l,o)&&!0===this._compareDate(l,c)&&(s.sectioned=!0)),!0===this._compareDate(l,this.minDate)&&(s.disabled=!0),!1===this._compareDate(l,this.maxDate)&&this.maxDate!==l&&(s.disabled=!0),n-=1,n%7!==0&&n%6!==0||(s.week=!0,this.weekDisabled&&(s.disabled=!0)),this.disabledDate&&this.disabledDate.length>0&&this.disabledDate.indexOf(l)>-1&&(s.disabled=!0),t.push(s)},_getDateObject:function(t){if(!t)return"";var e=t.split("-");return{year:Number(e[0]),month:Number(e[1]),day:Number(e[2])}},_dateDiff:function(t,e){var a,n,s,r;return a=this._getTimeByTimeStr(t),n=new Date(a[1]+"-"+a[2]+"-"+a[0]),a=this._getTimeByTimeStr(e),s=new Date(a[1]+"-"+a[2]+"-"+a[0]),r=parseInt(Math.abs(n-s)/1e3/60/60/24),r},_formatNumber:function(t){return t<10?"0"+t:t},_formatDateStr:function(t,e,a){return t+"-"+this._formatNumber(e)+"-"+this._formatNumber(a)},_compareDate:function(t,e){var a=new Date(t.replace(/\-/g,"/")),n=new Date(e.replace(/\-/g,"/"));return!(a>=n)},selectDay:function(t,e){if(!t.disabled&&!t.selected&&t.value){var a=e.target.getAttribute("data-str");if(this.showStartDate&&this.limitSection>0){var n=this._dateDiff(this.showStartDate,a);n>this.limitSection&&this.onError("选择区间做多为"+this.limitSection+"天")}this.resetSelectDate(a)}},resetSelectDate:function(t){if(this.showStartDate)if(this.showEndDate)this.tooltipshow=!0,this.showStartDate=t,this.showEndDate="";else if(this._compareDate(t,this.showStartDate))this.tooltipshow=!0,this.showStartDate=t;else{this.showEndDate=t,this.tooltipshow=!1;var e={start_date:this.showStartDate,end_date:this.showEndDate};this.onSuccess(e);var a=this;setTimeout((function(){a.close()}),500)}else this.showStartDate=t,this.tooltipshow=!0},close:function(){this.showCalendarFlag=!1,document.body.className=""}}}),o=i,c=(a("ef76"),a("2877")),l=Object(c["a"])(o,s,r,!1,null,null,null),d=l.exports,u=n["a"].extend(d),h=new u({el:document.createElement("div")}),f=function(t){h.element=t.element||"",h.monthSize=t.monthSize||4,h.showEffect=t.showEffect||"slideInBottom",h.limitSection=t.limitSection||0,h.weekDisabled=t.weekDisabled||!1,h.onSuccess=t.onSuccess||function(){},h.onError=t.onError||function(){},h.startDate=t.startDate||"",h.endDate=t.endDate||"",h.minDate=t.minDate,h.maxDate=t.maxDate,h.disabledDate=t.disabledDate||[],document.body.appendChild(h.$el),h.initDatePicker(),h.element.addEventListener("click",(function(){h.showCalendarFlag=!0,document.body.className="overflow"}),!1)};e["default"]=f},dc2b:function(t,e,a){t.exports=a("c666")},ef76:function(t,e,a){"use strict";var n=a("32e9"),s=a.n(n);s.a}});
//# sourceMappingURL=app.ae9359ea.js.map